@model List<(User, Message)>;

<div class="dialogs-title">
    <h3>Диалоги</h3>
</div>
<div class="dialogs-list">
    <ul>
        @foreach (var user in Model)
        {
            <li userId="@user.Item1.UserId" class="user-dialog">
                <div class="dialogs-msg-details" userId="@user.Item1.UserId">
                    <div class="usr-msg-img" userId="@user.Item1.UserId">
                    @*    <img src="@Url.Content(@user.Item1.MainPhotoPath)" alt="" userId="@user.Item1.UserId">*@
                        <img src="~/images/no_photo.png" />
                    </div>
                    <div class="usr-msg-info" userId="@user.Item1.UserId">
                        <h3 userId="@user.Item1.UserId">@user.Item1</h3>
                        <h4 userId="@user.Item1.UserId">@user.Item2.Date</h4>
                        @{
                            string text;
                            if (user.Item2.Text.Length < 10)
                            {
                                text = user.Item2.Text;
                            }
                            else
                            {
                                text = user.Item2.Text.Substring(0, 10) + "...";
                            }
                        }
                        <h4 userId="@user.Item1.UserId">@text</h4>
                    </div>
                </div>
            </li>
        }
    </ul>
</div> 